import{f as _,a as c,s as T,e as w,t as W}from"../chunks/DvYCb5EU.js";import{i as ee}from"../chunks/D5h8dHte.js";import{X as ae,Y as te,Z as se,a3 as re,a2 as $,_ as le,a1 as i,$ as r,b as l,m as C,a0 as t,a,a5 as oe,a4 as ve,p as ne}from"../chunks/CVACOo44.js";import{i as N}from"../chunks/B2_4D3cM.js";import{e as ie,i as me}from"../chunks/7tu_R3nf.js";import{h as ce}from"../chunks/kg3Rhf1X.js";import{r as de,s as pe}from"../chunks/B5yr43yT.js";import{b as fe,p as ue}from"../chunks/DJ6bD_T1.js";import{b as k,g as _e}from"../chunks/C3JszHtg.js";import{l as D,i as he,c as be,d as ge}from"../chunks/BV6Xl33r.js";import{t as F}from"../chunks/BvXeRDvN.js";var ye=_(`<style>html, body {
            height: auto !important;
            overflow: auto !important;
        }</style>`),qe=_('<small class="error svelte-799cqp"> </small>'),Te=_('<div class="card add-form svelte-799cqp"><h2 class="svelte-799cqp">New Team</h2> <form><div class="setting"><label for="teamName">Team Name:</label> <input type="text" id="teamName" placeholder="Enter team name"/> <!></div> <div class="button-row svelte-799cqp"><button type="button" class="btn-secondary svelte-799cqp">Cancel</button> <button type="submit" class="btn-primary svelte-799cqp">Create</button></div></form></div>'),xe=_('<div class="empty-state svelte-799cqp"><p class="svelte-799cqp">No teams yet</p> <p class="hint svelte-799cqp">Tap "Add Team" to create one</p></div>'),$e=_('<div class="team-card svelte-799cqp"><a class="team-link svelte-799cqp"><div class="team-info svelte-799cqp"><h2 class="svelte-799cqp"> </h2> <p class="svelte-799cqp"> <!></p></div></a> <button class="btn-delete svelte-799cqp">Delete</button></div>'),Ce=_('<div class="teams-list svelte-799cqp"></div>'),Ne=_('<div class="banner banner-default"><h1>Teams</h1> <p> </p></div> <div class="teams-container svelte-799cqp"><!> <!></div>',1);function Ie(I,U){ae(U,!1);let d=C([]),g=C(!1),p=C(""),h=C("");te(()=>{l(d,D()),F.setLeftButton({label:"Add Team",action:()=>l(g,!0)}),F.setMenuItems([{label:"Home",href:`${k}/`}])}),se(()=>{F.reset()});function X(){if(l(h,""),!a(p).trim()){l(h,"Team name is required");return}if(!he(a(p))){l(h,"Team name already exists");return}const e=be(a(p));l(d,D()),l(p,""),l(g,!1),_e(`${k}/teams/${e.id}`)}function Y(e){ge(e),l(d,D())}function Z(){l(g,!1),l(p,""),l(h,"")}function j(e){if(e.players.length===0)return{avgLevel:0,maleCount:0,femaleCount:0};const f=e.players.reduce((v,m)=>v+m.level,0)/e.players.length,s=e.players.filter(v=>v.gender==="M").length,n=e.players.filter(v=>v.gender==="F").length;return{avgLevel:f,maleCount:s,femaleCount:n}}ee();var M=Ne();ce("799cqp",e=>{var o=ye();c(e,o)});var A=re(M),E=i(r(A),2),z=r(E);t(E),t(A);var S=i(A,2),B=r(S);{var G=e=>{var o=Te(),f=i(r(o),2),s=r(f),n=i(r(s),2);de(n),oe(n);var v=i(n,2);{var m=u=>{var b=qe(),x=r(b,!0);t(b),$(()=>T(x,a(h))),c(u,b)};N(v,u=>{a(h)&&u(m)})}t(s);var y=i(s,2),q=r(y);ve(2),t(y),t(f),t(o),fe(n,()=>a(p),u=>l(p,u)),w("click",q,Z),w("submit",f,ue(X)),c(e,o)};N(B,e=>{a(g)&&e(G)})}var J=i(B,2);{var K=e=>{var o=xe();c(e,o)},O=e=>{var o=Ce();ie(o,5,()=>a(d),me,(f,s)=>{const n=ne(()=>j(a(s)));var v=$e(),m=r(v),y=r(m),q=r(y),u=r(q,!0);t(q);var b=i(q,2),x=r(b),P=i(x);{var Q=L=>{var H=W();$(V=>T(H,`· Avg ${V??""} · ${a(n).maleCount??""}M ${a(n).femaleCount??""}F`),[()=>a(n).avgLevel.toFixed(1)]),c(L,H)};N(P,L=>{a(s).players.length>0&&L(Q)})}t(b),t(y),t(m);var R=i(m,2);t(v),$(()=>{pe(m,"href",`${k??""}/teams/${a(s).id??""}`),T(u,a(s).name),T(x,`${a(s).players.length??""} player${a(s).players.length!==1?"s":""} `)}),w("click",R,()=>Y(a(s).id)),c(f,v)}),t(o),c(e,o)};N(J,e=>{a(d).length===0&&!a(g)?e(K):e(O,!1)})}t(S),$(()=>T(z,`${a(d).length??""} team${a(d).length!==1?"s":""}`)),c(I,M),le()}export{Ie as component};
