import{f as u,a as d,e as k,c as ue}from"../chunks/B8dYLVGR.js";import{i as _e}from"../chunks/DQnsU27G.js";import{U as be,V as Se,W as he,$ as C,X as ge,Y as v,Z as s,M as a,q as p,d as e,_ as r,a0 as Te}from"../chunks/kDJi7uQa.js";import{s as _}from"../chunks/BrOeEaGR.js";import{i as w}from"../chunks/CrQik-bG.js";import{g as H,b as I}from"../chunks/DEWtK5iP.js";import{l as Y,s as xe,c as ke}from"../chunks/y4FjEuLb.js";import{t as K}from"../chunks/D4nfCTly.js";var we=u('<div class="banner banner-success svelte-4p1id7"><h1 class="svelte-4p1id7"> </h1> <div class="post-game-buttons svelte-4p1id7"><button class="btn-win svelte-4p1id7">Pick a Game</button> <button class="btn-win svelte-4p1id7">Start Over</button></div></div>'),Ge=u('<div class="banner banner-info svelte-4p1id7"><h1 class="svelte-4p1id7">Rotate Teams!</h1> <button class="btn-rotate svelte-4p1id7">Confirm</button></div>'),Re=u('<p class="svelte-4p1id7"> </p>'),Me=u('<div class="banner banner-default svelte-4p1id7"><h1 class="svelte-4p1id7">Score Keeper</h1> <p class="svelte-4p1id7"> </p> <p class="svelte-4p1id7"> </p> <!></div>'),We=u('<button class="btn-score svelte-4p1id7">+1</button>'),Ce=u('<button class="btn-score svelte-4p1id7">+1</button>'),Ie=u('<div class="container svelte-4p1id7"><div class="header svelte-4p1id7"><!></div> <div class="team svelte-4p1id7"><h1 class="svelte-4p1id7">Team 1</h1> <p class="score svelte-4p1id7"> </p> <!></div> <div class="team svelte-4p1id7"><h1 class="svelte-4p1id7">Team 2</h1> <p class="score svelte-4p1id7"> </p> <!></div></div>');function Fe(Z,j){be(j,!1);let o=p(0),i=p(0),b=0,S=0,G=p(25),R=p(1),h=p(4),f=p(!1),m=p(!1),g=p("");Se(()=>{const t=Y();t?(a(o,t.team1Score),a(i,t.team2Score),b=t.prevTeam1Score,S=t.prevTeam2Score,a(G,t.maxScore),a(R,t.winningMargin),a(h,t.teamRotationInterval),t.mode):H(I||"/"),K.setLeftButton({label:"Undo",action:E}),K.setMenuItems([{label:"Pick a New Game",action:Q},{label:"Current Game Settings",href:`${I}/settings`},{label:"Reset Scores",action:V}])}),he(()=>{K.reset()});function M(){const t=Y();t&&(t.team1Score=e(o),t.team2Score=e(i),t.prevTeam1Score=b,t.prevTeam2Score=S,xe(t))}function L(){e(o)>=e(G)&&e(o)-e(i)>=e(R)?(a(f,!0),a(g,"Team 1")):e(i)>=e(G)&&e(i)-e(o)>=e(R)&&(a(f,!0),a(g,"Team 2"))}function N(){const t=e(o)+e(i);e(h)>0&&t>0&&t%e(h)===0&&(a(m,!0),console.log("Rotate teams!"))}function z(){b=e(o),S=e(i),a(o,e(o)+1),M(),L(),N()}function A(){b=e(o),S=e(i),a(i,e(i)+1),M(),L(),N()}function V(){a(o,0),a(i,0),a(f,!1),a(m,!1),a(g,""),M()}function E(){a(o,b),a(i,S),a(f,!1),a(g,""),a(m,!1),M()}function J(){V()}function Q(){H(I||"/")}function ee(){ke(),H(I||"/")}_e();var y=Ie(),O=s(y),te=s(O);{var ae=t=>{var n=we(),T=s(n),q=s(T);r(T);var W=v(T,2),l=s(W),c=v(l,2);r(W),r(n),C(()=>_(q,`${e(g)??""} Wins!`)),k("click",l,ee),k("click",c,J),d(t,n)},se=t=>{var n=ue(),T=Te(n);{var q=l=>{var c=Ge(),x=v(s(c),2);r(c),k("click",x,()=>a(m,!e(m))),d(l,c)},W=l=>{var c=Me(),x=v(s(c),2),ce=s(x);r(x);var B=v(x,2),me=s(B);r(B);var de=v(B,2);{var pe=D=>{var F=Re(),fe=s(F);r(F),C(()=>_(fe,`Team Rotation every ${e(h)??""} points`)),d(D,F)};w(de,D=>{e(h)>0&&D(pe)})}r(c),C(()=>{_(ce,`First to ${e(G)??""} wins!`),_(me,`Winning Margin: ${e(R)??""}`)}),d(l,c)};w(T,l=>{e(m)?l(q):l(W,!1)},!0)}d(t,n)};w(te,t=>{e(f)?t(ae):t(se,!1)})}r(O);var P=v(O,2),U=v(s(P),2),re=s(U,!0);r(U);var oe=v(U,2);{var ie=t=>{var n=We();k("click",n,z),d(t,n)};w(oe,t=>{!e(f)&&!e(m)&&t(ie)})}r(P);var X=v(P,2),$=v(s(X),2),ne=s($,!0);r($);var ve=v($,2);{var le=t=>{var n=Ce();k("click",n,A),d(t,n)};w(ve,t=>{!e(f)&&!e(m)&&t(le)})}r(X),r(y),C(()=>{_(re,e(o)),_(ne,e(i))}),d(Z,y),ge()}export{Fe as component};
