import{c as he,a as _,f as h,s as b,e as D}from"../chunks/DvYCb5EU.js";import{i as Ke}from"../chunks/D5h8dHte.js";import{a6 as Ve,x as oe,al as We,aa as Xe,D as Ye,am as Ze,an as Je,t as Qe,X as Re,Y as ea,Z as aa,a3 as de,_ as ta,b as s,m as k,a as e,$ as r,a0 as t,a1 as v,a2 as x,ao as ra,a5 as sa,ap as ge}from"../chunks/CVACOo44.js";import{i as C}from"../chunks/B2_4D3cM.js";import{e as je,i as Ne}from"../chunks/7tu_R3nf.js";import{h as la}from"../chunks/kg3Rhf1X.js";import{r as ue}from"../chunks/B5yr43yT.js";import{b as me,p as va}from"../chunks/DJ6bD_T1.js";import{s as ia,a as na}from"../chunks/BMZzibln.js";import{g as xe,b as te}from"../chunks/C3JszHtg.js";import{p as oa}from"../chunks/Cw_H0uRg.js";import{g as Z,i as da,u as ua,S as ma,a as fa,b as ca,m as _a,e as pa,f as ba}from"../chunks/BV6Xl33r.js";import{t as G}from"../chunks/BvXeRDvN.js";function $e(l,o,E=!1){if(l.multiple){if(o==null)return;if(!Ye(o))return Ze();for(var p of l.options)p.selected=o.includes(J(p));return}for(p of l.options){var P=J(p);if(Je(P,o)){p.selected=!0;return}}(!E||o!==void 0)&&(l.selectedIndex=-1)}function ya(l){var o=new MutationObserver(()=>{$e(l,l.__value)});o.observe(l,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Qe(()=>{o.disconnect()})}function Pe(l,o,E=o){var p=new WeakSet,P=!0;Ve(l,"change",a=>{var c=a?"[selected]":":checked",u;if(l.multiple)u=[].map.call(l.querySelectorAll(c),J);else{var g=l.querySelector(c)??l.querySelector("option:not([disabled])");u=g&&J(g)}E(u),oe!==null&&p.add(oe)}),We(()=>{var a=o();if(l===document.activeElement){var c=Xe??oe;if(p.has(c))return}if($e(l,a,P),P&&a===void 0){var u=l.querySelector(":checked");u!==null&&(a=J(u),E(a))}l.__value=a,P=!1}),ya(l)}function J(l){return"__value"in l?l.__value:l.value}const ka=!1,Ga=Object.freeze(Object.defineProperty({__proto__:null,prerender:ka},Symbol.toStringTag,{value:"Module"}));var ha=h(`<style>html, body {
            height: auto !important;
            overflow: auto !important;
        }</style>`),ga=h('<small class="error svelte-1jk9v95"> </small>'),ja=h("<option> </option>"),Na=h('<div class="card player-form svelte-1jk9v95"><h2 class="svelte-1jk9v95"> </h2> <form><div class="form-row svelte-1jk9v95"><div class="setting svelte-1jk9v95"><label for="firstName">First Name:</label> <input type="text" id="firstName" required/></div> <div class="setting svelte-1jk9v95"><label for="lastName">Last Name:</label> <input type="text" id="lastName" placeholder="Optional"/></div></div> <div class="form-row svelte-1jk9v95"><div class="setting svelte-1jk9v95"><label for="gender">Gender:</label> <select id="gender" class="svelte-1jk9v95"><option>Male</option><option>Female</option></select></div> <div class="setting svelte-1jk9v95"><label for="level">Skill Level:</label> <select id="level" class="svelte-1jk9v95"></select></div></div> <div class="button-row svelte-1jk9v95"><button type="button" class="btn-secondary svelte-1jk9v95">Cancel</button> <button type="submit" class="btn-primary svelte-1jk9v95"> </button></div></form></div>'),xa=h('<div class="empty-state svelte-1jk9v95"><p class="svelte-1jk9v95">No players yet</p> <p class="hint svelte-1jk9v95">Tap "Add Player" to add one</p></div>'),Pa=h('<span class="last-name"> </span>'),$a=h('<div class="player-card svelte-1jk9v95"><div class="player-rank svelte-1jk9v95"> </div> <div class="player-info svelte-1jk9v95"><div class="player-name svelte-1jk9v95"><span class="first-name"> </span><!></div> <div class="player-details svelte-1jk9v95"> </div></div> <div class="player-actions svelte-1jk9v95"><button class="btn-move svelte-1jk9v95">▲</button> <button class="btn-move svelte-1jk9v95">▼</button> <button class="btn-delete-small svelte-1jk9v95">✕</button></div></div>'),Sa=h('<div class="players-list svelte-1jk9v95"><h3 class="svelte-1jk9v95">Players</h3> <!></div>'),Ma=h('<div class="banner banner-default"><h1> </h1> <p> </p></div> <div class="team-container svelte-1jk9v95"><div class="card team-name-card svelte-1jk9v95"><div class="setting"><label for="teamName">Team Name:</label> <input type="text" id="teamName"/> <!></div></div> <!> <!></div>',1);function za(l,o){Re(o,!1);const E=()=>na(oa,"$page",p),[p,P]=ia();let a=k(null),c=k(""),u=k(""),g=k(!1),$=k(null),O=k(""),B=k(""),S=k("M"),M=k(3.5);ea(()=>{const i=E().params.id;if(s(a,Z(i)),!e(a)){xe(`${te}/teams`);return}s(c,e(a).name),fe()}),aa(()=>{G.reset()});function Se(){if(e(a)){if(s(u,""),!e(c).trim()){s(u,"Team name is required");return}if(!da(e(c),e(a).id)){s(u,"Team name already exists");return}ra(a,e(a).name=e(c).trim()),ua(e(a))}}function fe(){G.setLeftButton({label:"Add Player",action:Me}),G.setCancelButton({label:"Back",action:()=>xe(`${te}/teams`)}),G.setMenuItems([{label:"All Teams",href:`${te}/teams`},{label:"Home",href:`${te}/`}])}function Me(){s($,null),s(O,""),s(B,""),s(S,"M"),s(M,3.5),s(g,!0),G.reset()}function Te(i){s($,i),s(O,i.firstName),s(B,i.lastName),s(S,i.gender),s(M,i.level),s(g,!0),G.reset()}function ce(){s(g,!1),s($,null),fe()}function we(){e(a)&&(e($)?fa(e(a).id,{...e($),firstName:e(O).trim(),lastName:e(B).trim(),gender:e(S),level:e(M)}):ca(e(a).id,{firstName:e(O).trim(),lastName:e(B).trim(),gender:e(S),level:e(M)}),s(a,Z(e(a).id)),ce())}function Fe(i){e(a)&&(ba(e(a).id,i),s(a,Z(e(a).id)))}function Le(i){e(a)&&(_a(e(a).id,i),s(a,Z(e(a).id)))}function qe(i){e(a)&&(pa(e(a).id,i),s(a,Z(e(a).id)))}Ke();var _e=he();la("1jk9v95",i=>{var Q=ha();_(i,Q)});var Ae=de(_e);{var De=i=>{var Q=Ma(),re=de(Q),se=r(re),Ee=r(se,!0);t(se);var pe=v(se,2),Oe=r(pe);t(pe),t(re);var be=v(re,2),le=r(be),ye=r(le),R=v(r(ye),2);ue(R);var Be=v(R,2);{var Ie=n=>{var m=ga(),T=r(m,!0);t(m),x(()=>b(T,e(u))),_(n,m)};C(Be,n=>{e(u)&&n(Ie)})}t(ye),t(le);var ke=v(le,2);{var Ue=n=>{var m=Na(),T=r(m),ve=r(T,!0);t(T);var w=v(T,2),F=r(w),z=r(F),H=v(r(z),2);ue(H),sa(H),t(z);var d=v(z,2),K=v(r(d),2);ue(K),t(d),t(F);var L=v(F,2),q=r(L),V=v(r(q),2);x(()=>{e(S),ge(()=>{})});var j=r(V);j.value=j.__value="M";var I=v(j);I.value=I.__value="F",t(V),t(q);var U=v(q,2),W=v(r(U),2);x(()=>{e(M),ge(()=>{})}),je(W,5,()=>ma,Ne,(f,A)=>{var y=ja(),ne=r(y,!0);t(y);var N={};x(Y=>{b(ne,Y),N!==(N=e(A))&&(y.value=(y.__value=e(A))??"")},[()=>e(A).toFixed(1)]),_(f,y)}),t(W),t(U),t(L);var ee=v(L,2),ae=r(ee),X=v(ae,2),ie=r(X,!0);t(X),t(ee),t(w),t(m),x(()=>{b(ve,e($)?"Edit Player":"Add Player"),b(ie,e($)?"Save":"Add")}),me(H,()=>e(O),f=>s(O,f)),me(K,()=>e(B),f=>s(B,f)),Pe(V,()=>e(S),f=>s(S,f)),Pe(W,()=>e(M),f=>s(M,f)),D("click",ae,ce),D("submit",w,va(we)),_(n,m)};C(ke,n=>{e(g)&&n(Ue)})}var Ce=v(ke,2);{var Ge=n=>{var m=xa();_(n,m)},ze=n=>{var m=he(),T=de(m);{var ve=w=>{var F=Sa(),z=v(r(F),2);je(z,1,()=>e(a).players,Ne,(H,d,K)=>{var L=$a(),q=r(L),V=r(q);t(q);var j=v(q,2),I=r(j),U=r(I),W=r(U,!0);t(U);var ee=v(U);{var ae=N=>{var Y=Pa(),He=r(Y,!0);t(Y),x(()=>b(He,e(d).lastName)),_(N,Y)};C(ee,N=>{e(d).lastName&&N(ae)})}t(I);var X=v(I,2),ie=r(X);t(X),t(j);var f=v(j,2),A=r(f);A.disabled=K===0;var y=v(A,2),ne=v(y,2);t(f),t(L),x(N=>{b(V,`#${e(d).rank??""}`),b(W,e(d).firstName),b(ie,`${e(d).gender==="M"?"Male":"Female"} · ${N??""}`),y.disabled=K===e(a).players.length-1},[()=>e(d).level.toFixed(1)]),D("click",j,()=>Te(e(d))),D("click",A,()=>Le(e(d).id)),D("click",y,()=>qe(e(d).id)),D("click",ne,()=>Fe(e(d).id)),_(H,L)}),t(F),_(w,F)};C(T,w=>{e(a).players.length>0&&w(ve)},!0)}_(n,m)};C(Ce,n=>{e(a).players.length===0&&!e(g)?n(Ge):n(ze,!1)})}t(be),x(()=>{b(Ee,e(a).name),b(Oe,`${e(a).players.length??""} player${e(a).players.length!==1?"s":""}`)}),me(R,()=>e(c),n=>s(c,n)),D("blur",R,Se),_(i,Q)};C(Ae,i=>{e(a)&&i(De)})}_(l,_e),ta(),P()}export{za as component,Ga as universal};
