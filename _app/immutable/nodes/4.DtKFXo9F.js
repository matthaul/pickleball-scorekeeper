import{f as E,e as J,a as q,s as B}from"../chunks/DvYCb5EU.js";import{i as K}from"../chunks/D5h8dHte.js";import{X as O,Y as Q,Z as U,a2 as D,a,_ as V,a1 as v,$ as m,b as t,m as g,a0 as l,a4 as ee}from"../chunks/CVACOo44.js";import{i as ae}from"../chunks/B2_4D3cM.js";import{r as M}from"../chunks/B5yr43yT.js";import{b as w,p as te}from"../chunks/DJ6bD_T1.js";import{s as ie,a as oe}from"../chunks/BMZzibln.js";import{g as d,b as p}from"../chunks/C3JszHtg.js";import{p as ne}from"../chunks/Cw_H0uRg.js";import{g as I}from"../chunks/XTmbLVDi.js";import{l as W,a as se,b as re,s as Y}from"../chunks/y4FjEuLb.js";import{t as u}from"../chunks/BvXeRDvN.js";var me=E('<p class="description"> </p>'),le=E('<div class="setup-container svelte-g40i6i"><div class="card svelte-g40i6i"><h1 class="svelte-g40i6i"> </h1> <!> <form><div class="setting svelte-g40i6i"><label for="maxScore">Points to Win:</label> <input type="number" id="maxScore" min="1" max="99" required/></div> <div class="setting svelte-g40i6i"><label for="winningMargin">Winning Margin:</label> <input type="number" id="winningMargin" min="1" max="10" required/></div> <div class="setting svelte-g40i6i"><label for="rotation">Team Rotation Interval:</label> <input type="number" id="rotation" min="0" max="20"/> <small>Set to 0 to disable rotation reminders</small></div></form></div></div>');function we(H,L){O(L,!1);const $=()=>oe(ne,"$page",N),[N,X]=ie();let i=g(null),o=g(11),n=g(2),s=g(0),c=g(!1);Q(()=>{if(t(c,$().url.searchParams.get("edit")==="true"),a(c)){const e=W();if(e)t(i,I(e.mode)),t(o,e.maxScore),t(n,e.winningMargin),t(s,e.teamRotationInterval);else{d(p||"/");return}}else{const e=$().url.searchParams.get("mode");if(e==="custom"){const r=se();r?(t(i,r),t(o,r.maxScore),t(n,r.winningMargin),t(s,r.teamRotationInterval)):(t(i,I("custom")),t(o,11),t(n,2),t(s,0))}else t(i,I(e||"standard")),a(i)&&(t(o,a(i).maxScore),t(n,a(i).winningMargin),t(s,a(i).teamRotationInterval))}u.setLeftButton({label:a(c)?"Save":"Start Game",action:a(c)?R:h}),u.setCancelButton({label:"Cancel",action:Z}),u.setMenuItems([{label:"Pick a New Game",action:j}])}),U(()=>{u.reset()});function h(){a(i)?.id==="custom"&&re({id:"custom",name:"Custom",maxScore:a(o),winningMargin:a(n),teamRotationInterval:a(s),description:"Your custom settings"});const e={mode:a(i)?.id||"standard",maxScore:a(o),winningMargin:a(n),teamRotationInterval:a(s),team1Score:0,team2Score:0,prevTeam1Score:0,prevTeam2Score:0};Y(e),d(`${p}/game`)}function R(){const e=W();e&&(e.maxScore=a(o),e.winningMargin=a(n),e.teamRotationInterval=a(s),Y(e)),d(`${p}/game`)}function Z(){a(c)?d(`${p}/game`):d(p||"/")}function j(){d(p||"/")}K();var f=le(),G=m(f),b=m(G),z=m(b,!0);l(b);var C=v(b,2);{var A=e=>{var r=me(),F=m(r,!0);l(r),D(()=>B(F,a(i)?.description||"")),q(e,r)};ae(C,e=>{a(c)||e(A)})}var S=v(C,2),_=m(S),y=v(m(_),2);M(y),l(_);var x=v(_,2),P=v(m(x),2);M(P),l(x);var T=v(x,2),k=v(m(T),2);M(k),ee(2),l(T),l(S),l(G),l(f),D(()=>B(z,a(i)?.name||"Game")),w(y,()=>a(o),e=>t(o,e)),w(P,()=>a(n),e=>t(n,e)),w(k,()=>a(s),e=>t(s,e)),J("submit",S,te(function(...e){(a(c)?R:h)?.apply(this,e)})),q(H,f),V(),X()}export{we as component};
